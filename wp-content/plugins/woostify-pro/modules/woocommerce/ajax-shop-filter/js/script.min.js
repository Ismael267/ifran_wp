"use strict";var woostifySliderPrice=function(){var e,o,t,r,n,i=jQuery(".price_slider:not(.ui-slider)");i.length&&(jQuery("input#min_price, input#max_price").hide(),jQuery(".price_slider, .price_label").show(),e=jQuery(".price_slider_amount #min_price").data("min"),o=jQuery(".price_slider_amount #max_price").data("max"),t=jQuery(".price_slider_amount").data("step")||1,r=jQuery(".price_slider_amount #min_price").val(),n=jQuery(".price_slider_amount #max_price").val(),i.slider({range:!0,animate:!0,min:e,max:o,step:t,values:[r,n],create:function(){jQuery(".price_slider_amount #min_price").val(r),jQuery(".price_slider_amount #max_price").val(n),jQuery(document.body).trigger("price_slider_create",[r,n])},slide:function(e,o){jQuery("input#min_price").val(o.values[0]),jQuery("input#max_price").val(o.values[1]),jQuery(document.body).trigger("price_slider_slide",[o.values[0],o.values[1]])},change:function(e,o){jQuery(document.body).trigger("price_slider_change",[o.values[0],o.values[1]])}}))},woostifySortBy=function(){var o=document.querySelector(".woocommerce-ordering"),e=!!o&&o.querySelector(".orderby"),t=!!o&&(o.closest(".elementor-element")||o.closest(".e-element"));o&&e&&!t&&(jQuery(".woocommerce-ordering").on("submit",function(e){e.preventDefault()}),o.insertAdjacentHTML("beforeend",'<button type="submit"></button>'),e.addEventListener("change",function(){var e=o.querySelector('[type="submit"]');e&&(woostifyShopFilter(),e.click())}))},woostifySelectWoo=function(){document.querySelectorAll('[class*="dropdown_layered_nav_"]').forEach(function(e,o){var t,e=Array.from(e.classList).filter(function(e){return e.includes("dropdown_layered_nav_")}),n=!!e.length&&"."+e.join();n&&(jQuery(n).eq(o).on("change",function(){var e=jQuery(this),o=e.val(),t=n.replace(".dropdown_layered_nav_",""),r=e.closest("form"),t=r?r.find('input[name="filter_'+t+'"]'):[];t.length&&(o=o&&o.includes(",")?o.join(","):o,t.val(o)),e.attr("multiple")||r.submit()}),jQuery().selectWoo&&(e=jQuery(n).eq(o).find("option:eq(0)"),t=e.length?e.html():"",jQuery(n).eq(o).selectWoo({placeholder:decodeURIComponent(t),minimumResultsForSearch:5,width:"100%",allowClear:!1})))})},woostifyDropdownSelectCategory=function(){var e=document.querySelectorAll(".widget_product_categories .dropdown_product_cat");e.length&&e.forEach(function(r){r.addEventListener("change",function(){var e=r.value.trim(),o=woostify_ajax_shop_filter.shop_url,t=woostify_ajax_shop_filter.home_url;e&&(o=t.includes("?")?t+"&product_cat="+e:t+"?product_cat="+e,location.href=o)})})},woostifyShopFilter=function u(){var e,l,s=document.getElementById("secondary");!s||(e=document.querySelectorAll('.woostify-clear-filter-item, .advanced-product-filter a, .woocommerce-widget-layered-nav a, .woocommerce-ordering [type="submit"], .widget.widget_price_filter [type="submit"], .woocommerce-product-search [type="submit"], .woocommerce-widget-layered-nav [type="submit"], .woocommerce-pagination a')).length&&(l=window.location,e.forEach(function(a){a.onclick=function(e){if(!document.body.classList.contains("single")&&!document.body.classList.contains("single-product")){e.preventDefault();var o=a.href,t=document.querySelector("ul.products"),r=t?t.offsetTop:0;if("submit"==a.type){var e=a.closest("form"),e=e?e.querySelectorAll("[name]"):[],n={},i=!1;if(e.length){if(e.forEach(function(e){var o=e.value.trim();"paged"!=e.name&&(o?n[e.name]=o:"search"==e.type&&(e.focus(),i=!0))}),i)return;var c=new URLSearchParams(n).toString(),o=decodeURI(l.pathname+"?"+c)}}document.documentElement.classList.add("woostify-filter-updating");c=new Request(o,{method:"GET",credentials:"same-origin",headers:new Headers({"Content-Type":"text/html"})});fetch(c).then(function(e){return e.text()}).then(function(e){var o=(new DOMParser).parseFromString(e,"text/html"),t=o.querySelector("#primary"),r=o.querySelector("#secondary"),n=!!t&&t.querySelector(".woocommerce-result-count"),i=!!t&&t.querySelector(".woocommerce-pagination"),c=document.getElementById("primary"),e=!!c&&c.querySelector(".woocommerce-result-count"),o=!!c&&c.querySelector(".woocommerce-pagination");c&&t&&(c.innerHTML=t.innerHTML),r&&(s.innerHTML=r.innerHTML),e&&n&&(e.innerHTML=n.innerHTML),o&&i&&(o.innerHTML=i.innerHTML)}).catch(function(e){console.log(e)}).finally(function(){history.pushState&&history.pushState(null,null,o),"function"==typeof woostifyQuickView&&woostifyQuickView(),"function"==typeof woostifySwatchList&&woostifySwatchList(),"function"==typeof woostifyFeaturedProduct&&woostifyFeaturedProduct(),"function"==typeof woostifyProductCategoriesAccordion&&woostifyProductCategoriesAccordion(),"function"==typeof woostifySidebarMobile&&woostifySidebarMobile(),"function"==typeof woostifyCountdownUrgency&&woostifyCountdownUrgency(),u(),woostifySliderPrice(),woostifySortBy(),woostifySelectWoo(),document.documentElement.classList.remove("woostify-filter-updating"),woostifyDropdownSelectCategory();var e=document.querySelectorAll("#secondary form.woocommerce-widget-layered-nav-dropdown");e.length&&e.forEach(function(e){var o=e.querySelector("select.woocommerce-widget-layered-nav-dropdown"),t=e.querySelector("input");o&&t&&o&&o.addEventListener("change",function(){t.value=o.value,e.submit()})}),a.classList.contains("page-numbers")&&t&&setTimeout(function(){window.scrollTo({top:r,left:0,behavior:"smooth"})},100)})}}}))};document.addEventListener("DOMContentLoaded",function(){woostifySortBy(),woostifyShopFilter()});